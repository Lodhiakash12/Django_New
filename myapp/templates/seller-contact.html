{% extends 'seller-header.html' %}
{% load static %}
{% block content %}
<!doctype html>
<html lang="en">
<head>
  
	</head>

	<body>

		 

		<!-- Start Hero Section -->
			<div class="hero">
				<div class="container">
					<div class="row justify-content-between">
						<div class="col-lg-5">
							<div class="intro-excerpt">
								<h1>Contact Messages</h1>
								<p class="mb-4">View all customer contact inquiries and messages.</p>
							</div>
						</div>
						<div class="col-lg-7">
							<div class="hero-img-wrap">
								<img src="{% static 'images/couch.png' %}" class="img-fluid">
							</div>
						</div>
					</div>
				</div>
			</div>
		<!-- End Hero Section -->

		
		<!-- Start Contact Messages Table -->
		<div class="untree_co-section">
			<div class="container">
				<div class="row">
					<div class="col-12">
						<h2 class="mb-4">Customer Messages</h2>
						
						{% if contacts %}
						<div class="table-responsive">
							<table class="table table-striped table-hover">
								<thead class="table-dark">
									<tr class="text-center">
										<th>ID</th>
										<th>Name</th>
										<th>Email</th>
										<th>Message</th>
										<th>Action</th>
									</tr>
								</thead>
								<tbody>
									{% for contact in contacts %}
									<tr>
										<td class="text-center">{{ contact.id }}</td>
										<td  class="text-center">{{ contact.fname }} {{ contact.lname }}</td>
										<td  class="text-center">{{ contact.email }}</td>
										<td  class="text-center">{{ contact.message|truncatewords:10 }}</td>
										<td class="text-center">
											<button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#messageModal{{ contact.id }}">
												<i class="fas fa-eye"></i> View Full
											</button>
										</td>
									</tr>
									
									<!-- Modal for full message -->
									<div class="modal fade" id="messageModal{{ contact.id }}" tabindex="-1">
										<div class="modal-dialog">
											<div class="modal-content">
												<div class="modal-header">
													<h5 class="modal-title">Message from {{ contact.fname }} {{ contact.lname }}</h5>
													<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
												</div>
												<div class="modal-body">
													<p><strong>Name:</strong> {{ contact.fname }} {{ contact.lname }}</p>
													<p><strong>Email:</strong> {{ contact.email }}</p>
													<hr>
													<p><strong>Message:</strong></p>
													<p>{{ contact.message }}</p>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
												</div>
											</div>
										</div>
									</div>
									{% endfor %}
								</tbody>
							</table>
						</div>
						{% else %}
						<div class="alert alert-info">
							No contact messages yet.
						</div>
						{% endif %}
					</div>
				</div>
			</div>
		</div>
		<!-- End Contact Messages Table -->

		

		 
	</body>

</html>
{% endblock %}  